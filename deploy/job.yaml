apiVersion: v1
kind: Pod
metadata:
  name: sparkplayground
spec:
  dnsPolicy: Default
  restartPolicy: Never
  containers:
    - name: sparkplayground
      image: sustain/sparkplayground
      imagePullPolicy: Always
      # command: [ "/bin/bash", "-c", "--" ]
      # args: [ "while true; do sleep 30; done;" ]
      ports:
      - containerPort: 50052
      - containerPort: 50053
      - containerPort: 4040
      - containerPort: 9079
      env:
      - name: NODE_HOSTNAME
        valueFrom:
          fieldRef:
            fieldPath: spec.nodeName
      - name: POD_NAME
        valueFrom:
          fieldRef:
            fieldPath: metadata.name
      - name: POD_IP
        valueFrom:
          fieldRef:
            fieldPath: status.podIP
